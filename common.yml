rabbit:
  image: teodorescuserban/kobo-rabbit:latest
  # build: ./rabbit
  hostname: rabbit
  env_file:
    - ./env_common.env
  environment:
    - RABBITMQ_LOGS=-
    - RABBITMQ_SASL_LOGS=-
  ports:
    - "0.0.0.0:5672:5672"
#    - "0.0.0.0:15672:15672"

psql:
  image: teodorescuserban/kobo-psql:latest
  # build: ./psql
  hostname: psql
  env_file:
    - env_common.env
    - env_sql.env
  ports:
    - "0.0.0.0:5432:5432"
#  volumes:
#    - ./vols/db:/srv/db"

mongo:
  image: teodorescuserban/kobo-mongo:latest
  # build: ./mongo
  hostname: mongo
  env_file:
    - env_common.env
  environment:
    - MONGO_DATA=/srv/db
  ports:
    - "0.0.0.0:27017:27017"
#  volumes:
#    - ./vols/mongo:/srv/db"

dkobo:
  # image: teodorescuserban/kobo-dkobo:latest # still WIP
  build: ./dkobo
  hostname: dkobo
  env_file:
    - env_common.env
    - env_kobo.env
  ports:
    - "0.0.0.0:5000:5000"
    - "0.0.0.0:8000:80"

kobocat:
  # image: teodorescuserban/kobo-dkobo:latest # still WIP
  build: ./kobocat
  hostname: kobocat
  env_file:
    - env_common.env
    - env_kobocat.env
  ports:
    - "0.0.0.0:5001:5000"
    - "0.0.0.0:8001:80"
